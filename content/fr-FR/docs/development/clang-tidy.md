# Utilisation de clang-rangé sur C++ Code

[`clang-tidy`](https://clang.llvm.org/extra/clang-tidy/) est un outil pour vérifier automatiquement le code C/C++/Objective-C pour les violations de style, la programmation erreurs et les meilleures pratiques.

L’intégration `clang-tidy` 'électronique d’Electron est fournie comme un script linter qui être exécuté avec `npm run lint:clang-tidy`. Bien `clang-tidy` vérifie vos fichiers de sur disque, vous devez avoir construit Electron afin qu’il sache quels indicateurs de compilateur ont été utilisés. Il ya une option requise pour le script `--output-dir`, qui indique le script qui construisent répertoire pour tirer les informations de compilation de. Une utilisation typique serait: `npm run lint:clang-tiy --out-dir ../out/Testing`

Sans nom de fichier fourni, tous les fichiers C/C++/Objective-C seront vérifiés. Vous pouvez fournir une liste de fichiers à vérifier en passant les noms de fichiers après options: `npm run lint:clang-tiy --out-dir ../out/Testing shell/browser/api/electron_api_app.cc`

Alors `clang-tidy` a une [longue liste](https://clang.llvm.org/extra/clang-tidy/checks/list.html) de contrôles possibles, dans Electron seulement quelques-uns sont activés par défaut. Au moment , Electron n’a pas de config `.clang-tidy` , de sorte que `clang-tidy` trouvera celui de Chrome à `src/.clang-tidy` et utilisera les contrôles qu' Chrome a activés. Vous pouvez modifier les contrôles exécutés en utilisant l’option `--checks=` 'achat. Ceci est transmis directement à `clang-tidy`, alors voir documentation pour plus de détails. Wildcards peuvent être utilisés, et les contrôles peuvent être désactivés en préfixeant une `-`. Par défaut, tous les contrôles énumérés sont ajoutés à ceux en `.clang-tidy`, donc si vous souhaitez limiter les contrôles à des spécifiques, vous devez d’abord exclure tous les contrôles, puis ajouter ce que vous voulez, comme `--checks=-*,performance*`.

Exécution `clang-tidy` est plutôt lent - en interne, il compile chaque fichier et exécute ensuite les contrôles de sorte qu’il sera toujours un facteur plus lent que la compilation. Alors que vous pouvez utiliser des courses parallèles pour l’accélérer en utilisant l’option `--jobs|-j` , `clang-tidy` utilise également beaucoup de mémoire lors de ses contrôles, de sorte qu’il peut facilement courir dans des erreurs hors de la mémoire. En tant que tel, le nombre par défaut d’emplois en est un.
