# मल्टीथ्रेडिंग

[Web Workers](https://developer.mozilla.org/en/docs/Web/API/Web_Workers_API/Using_web_workers) के साथ, जावास्क्रिप्ट को ओएस-स्तर के थ्रेड्स में चलाना संभव है |

## मल्टी-थ्रेडेड नोड.जेएस

इलेक्ट्रॉन के वेब वर्कर्स में नोड.जेएस की सुविधाओं को इस्तेमाल करना संभव है, इसके लिए आपको `webPreferences` में `nodeIntegrationInWorker` विकल्प को `true` सेट करना होगा |

```javascript
let win = new BrowserWindow({
  webPreferences: {
    nodeIntegrationInWorker: true
  }
})
```

`nodeIntegration` से स्वतंत्र `nodeIntegrationInWorker` का इस्तेमाल किया जा सकता है, पर `sandbox` सेट नहीं होना चाहिये `true` पर|

## उपलब्ध ऐपीआई

नोड.जेएस के सभी अंतर-निर्मित मोडयुल्स वेब वर्कर्स में समर्थित हैं, और `asar` आर्काइव्ज अभी भी नोड.जेएस ऐपीआई के साथ पढ़ी जा सकती हैं | पर इलेक्ट्रॉन का कोई भी मोड्यूल, मल्टी-थ्रेडेड वातावरण में इस्तेमाल नहीं किया जा सकता|

## मूल नोड.जेएस मोडयुल्स

किसी भी मूल नोड.जेएस मोड्यूल को वेब वर्कर्स में सीधे ही लोड किया जा सकता है, हालाँकि ऐसा न करने की सलाह दी जाती है| वर्तमान में ज्यादातर मूल मोडयुल्स सिंगल-थ्रेडेड वातावरण में चलने के लिए लिखे गये हैं, उन्हें वेब वर्कर्स में इस्तेमाल करने से क्रेशेस और मेमोरी करप्शन हो सकते हैं |

ध्यान रखें कि भले ही एक मूल नोड.जेएस मोड्यूल थ्रेड-सुरक्षित हो, फिर भी उसे वेब वर्कर में लोड करना सुरक्षित नहीं है क्योंकि `process.dlopen` फंक्शन थ्रेड-सुरक्षित नहीं है |

अभी के लिए एक मूल मोड्यूल को सुरक्षित लोड करने का एक ही तरीका है, और वह यह कि सुनिश्चित करना कि वेबवर्कर्स के शुरू होने के बाद एप्प किसी भी मूल मोड्यूल को लोड न करें |

```javascript
process.dlopen = () => {
  throw new Error('Load native module is not safe')
}
let worker = new Worker('script.js')
```
