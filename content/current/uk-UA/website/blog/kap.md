---
title: 'Проект Тижня: Кап'
author:
  - skllcrn
  - синдрезорхус
  - zeke
date: '2017-01-31'
---

Спільнота Electron швидко зростає, і люди створюють потужні нові застосунки та інструменти вражаючими. Щоб відсвяткувати цей творчий імпульс і зберегти спільноту в повідомленні деяких з цих нових проектів, ми вирішили розпочати тижневий блог серії, з відомими видатними проектами, пов'язаними з Electron.

---

Ця публікація є першим у серії, а також функції [Kap](https://getkap.co/), Додаток з відкритим вихідним кодом для запису створеного [Wulkano](https://wulkano.com/), географічною командою дизайнерів і розробників фрілансу.

[![Кепський скринкаст](https://cloud.githubusercontent.com/assets/2289/22439463/8f1e509e-e6e4-11e6-9c32-3a9db63fc9a1.gif)](https://getkap.co/)

## Що таке кап?

[Kap - це рекордер з відкритим вихідним кодом](https://getkap.co) , побудований насамперед для дизайнерів і розробників, щоб легко відобразити свою роботу. Люди використовують його, щоб ділитися анімованими прототипами, документами - створювати дурні GIF-анімації та все всередині.

Ми побачили, як люди різного віку та ззаду використовують його в налаштуваннях, діагностиках, підручниках... список продовжується. Навіть для створення виробничих активів! Ми повністю відірвалися від того, наскільки добре отримав наш бічний проект.

## Навіщо ти це побудував?

Це дуже гарне запитання, воно не означає, що там немає записів на екрані! Ми відчували, що альтернативи або були занадто складними, занадто дорогими або надто обмеженими. Ніщо не здавалося *просто* для наших щоденних потреб. Крім того, ми також вважаємо, що коли є інструменти, які ми використовуємо для роботи - з відкритим кодом, що так, як кожен може допомогти формувати їх. [Будування капу виявилося не стільки про те, що ми не робили](https://medium.com/wulkano-friends/from-idea-to-product-and-beyond-a12850403c38). Це все в деталях, накопичення невеликих поліпшень, що стало обрисом інструменту, який ми хотіли використовувати.

Однак, і, що найважливіше, Кеп став місцем, де ми залишаємо свої турботи у дверях і просто весело будуємо щось для себе і таких людей як ми. Дуже важливо створити середовище, в якому можна просто, випробувати нові тонни і насолоджуватися створеним ремеслом. Немає вимог, тиску, очікувань. Чи повинні дизайнери та розробники проекти? Чому, так. Так, вони повинні.

## Чому ви вирішили побудувати Kap на Electron?

Було кілька причин:

* Веб-технології
* Більша частина команди - розробники
* Ми інвестували в JavaScript
* Це відкриває двері для більших людей, які роблять свій внесок
* Сам електрон є відкритим кодом
* Потужність і легко контрольована модульність `node_modules`
* Перехресні можливості

Ми думаємо, що майбутнє додатків знаходиться у браузері, але ми ще не зовсім існує. Електрон - важливий крок у подорожі до цього майбутнього. Це не лише робить програми більш доступними, але й код, з яким вони створені. Цікава думка уявляє в майбутньому, де ОС є браузер, і вкладки, по суті, це застосунки Electron.

Крім того, будучи насамперед веб-розробниками, ми великі шанувальники ізоморфічної природи JavaScript, на якому Ви можете керувати JS на клієнті, сервері, і на комп'ютері. За допомогою веб-технологій (HTML, CSS і JS), багато речей набагато простіші, ніж нароста: Швидші прототип, менш код, flexbox > автоматичне розміщення (macOS/iOS).

## Які певні виклики ви зіткнулися під час створення Капа?

Використання ресурсів Electron має доступ для запису екрану було найбільшою проблемою. Вони просто не були достатньо ефективними, щоб задовольнити наші вимоги і представити проект провалом в наших очах. Хоча без помилок у самих Electron все ще існує розрив між місцевим розвитком та побудовою настільних програм за допомогою веб-технологій.

Ми витратили багато часу на спробу працювати над поганою продуктивністю `getUserMedia` API, виникла проблема в Chromium. Однією з наших головних цілей було створення капу для створення всього додатку за допомогою веб-технології. Випробувавши все, ми могли б зробити це роботою (мінімальна вимога - 30 кадрів в секунду на екрані сітківки), Зрештою, ми повинні були знайти інше рішення.

## Я бачу певний Swift код в репозиторії. Про що це?

Бути змушеним шукати альтернативи для `getUserMedia`, ми почали експериментувати з `ffmpeg`. Окрім того, що є одним з найкращих інструментів для перетворення аудіо та відео він має функціональність запису екрану майже в будь-якій ОС, і ми змогли зафіксувати чіткі відеозустрічі за мінімальною вимогою 30 кадрів в секунду на екрані сітківки. З'явились проблеми? Продуктивність була ":weary:, використання процесора було оброблено. Тож ми повернулися до креслярської дошки, обговорили свої варіанти і зрозуміли, що нам треба було зробити компроміс. Це призвело до [Aperture](https://github.com/wulkano/aperture), наша власна бібліотека запису екрану для macOS, записана в Swift.

## В яких областях потрібно покращити Electron ?

Ми всі знаємо, що застосунки Electron можуть щось використовувати RAM, але ще раз, це дійсно річ Chromium. Це частина того, як це працює, і це насправді залежить від того, з чим ви працюєте, наприклад, Kap і Hyper зазвичай використовують менше 100 Мб пам'яті.

Однією з найбільших областей покращення, які ми бачимо, є корисне навантаження, особливо тим, як Electron розподіляє Chromium. Однією з ідей було б мати спільне ядро Electron і зробити перевірку встановлювачів додатків, якщо воно вже є в системі.

Створення крос-платформених додатків може бути кращим досвідом. Зараз занадто багато невідповідностей, залежних від платформи API та відсутні можливості між платформами, зробивши ваш код блокований разом з операторами if. Наприклад, вібрація підтримується лише на macOS, автооновлення працює інакше, на macOS і Windows, і навіть не підтримується на Linux. Прозорість є влученням або пропуском на Linux, зазвичай не впусти.

Також має бути легше зателефонувати до вбудованого API системи. Electron постачає з дуже гарним набором API, але іноді вам потрібна функціональність не забезпечення. Створення рідного додатку Node.js є параметром, але з ним боляче працювати. Це ідеально Electron отримає хороший [FFI](https://en.wikipedia.org/wiki/Foreign_function_interface) API, наприклад [`швидкий виклик`](https://github.com/cmake-js/fastcall). Натомість це дозволило нам писати Swift частину на JavaScript.

## Які ваші улюблені речі про Electron?

Наше улюблене є легко той факт, що будь-хто з знаннями про створення для веб може створити і сприяти багатоплатформовному нативному досвіду. Не кажучи вже про легкість та радість розвитку на ній, прекрасну документацію та ощадливу екосистему.

З передньої точки зору побудова Kap не відрізнялася від створення простого веб-сайту за допомогою API браузера. Electron робить дійсно велику роботу для розробки програм схожим (в основному ідентико) для веб-розробки. Дуже просто. Він не потребував фреймворків або схожих на те, щоб допомогти нам, просто чистий і модульний JS і CSS.

Ми також є величезними прихильниками команди, які будують свою самовідданість та підтримку, активної та доброзичливої громади, яку вони підтримують. Вся гра для всіх вас!

## Що йде далі на капу?

Наступним кроком буде ознайомитися з додатком при підготовці до 2,0. етап включає в себе React перезапис на підтримку плагінів, дозволяючи розробникам розширити функціональність Kap! Ми запрошуємо всіх приєднатися до проекту та внести свій внесок на наш [репозиторій GitHub](https://github.com/wulkano/kap). Ми слухаємо та хочемо почути від усіх вас, наскільки це можливо, [Дайте нам знати, як ми можемо зробити Kap найкращим інструментом, який він може бути для вас](https://wulkano.typeform.com/to/BIvJKz)!

## Що таке Вулькано?

[Wulkano](https://wulkano.com) є студією та цифровою колективою, команда віддалених технологів, які люблять спільну роботу над клієнтськими gigs та нашими власними проектами. Ми розподілена, але щільна група людей з різних місць і походження, ділитися знаннями, ідеями, досвідом, але найбільш важливим є GIF і меми в нашому віртуальному офісі (що трапляється з Electron на основі Slack!).

## Будь-які поради Electron можуть бути корисними для інших розробників?

Скористайтеся перевагами та отримуйте участь у фантастичній [спільноті](https://discuss.atom.io/c/electron), подивіться [Awesome Electron](https://github.com/sindresorhus/awesome-electron)Подивіться на [приклади](https://github.com/electron/electron-api-demos) і використовуйте великі [документації](https://electronjs.org/docs/)!

