---
title: 'Проект Недели: Кап'
author:
  - skllcrn
  - синдсёрехус
  - zeke
date: '2017-01-31'
---

Сообщество Electron быстро растет, и люди создают мощные новые приложения и инструменты с удивительной скоростью. Чтобы отпраздновать этот творческий импульс и информировать сообщество о некоторых из этих новых проектов, Мы решили запустить еженедельный блог с записными проектами.

---

Этот пост является первым в этой серии, и функции [Kap](https://getkap.co/), приложение для записи с открытым исходным кодом, созданное [Wulkano](https://wulkano.com/), команда геораспределенных разработчиков и разработчиков.

[![Кап-скринкаст](https://cloud.githubusercontent.com/assets/2289/22439463/8f1e509e-e6e4-11e6-9c32-3a9db63fc9a1.gif)](https://getkap.co/)

## Что такое Kap?

[Kap является экранным приложением с открытым исходным кодом](https://getkap.co) построенным главным образом для дизайнеров и разработчиков с легкостью захватить свою работу. Люди используют его для обмена анимированными прототипами, документирования ошибок, создания глупых GIF и всего в промежутках.

We've seen people of all ages and backgrounds use it in educational settings, screencasts, tutorials... the list goes on. Даже для создания производственных активов! Мы полностью разрушены тем, как хорошо получил наш маленький сторонний проект.

## Почему вы создали его?

Это очень хороший вопрос, это не похоже на отсутствие экранных записей! Мы чувствовали альтернативы либо слишком сложные, либо слишком дорогие, либо слишком ограниченные. Ничего не было *просто* для наших повседневных нужд. Мы также считаем, что это хорошо, когда инструменты, которые мы используем, являются открытыми исходными кодами, таким образом, каждый может помочь им сформировать. [Строительный Кап в итоге был настолько же интересным, что и не](https://medium.com/wulkano-friends/from-idea-to-product-and-beyond-a12850403c38). Все это в деталях, накопление небольших улучшений, которые стали контуром того инструмента, который мы хотели использовать.

Однако и, возможно, наиболее важно, Kap стал для нас местом для того, чтобы оставить наши заботы в дверях и просто весело построить что-то для себя и таких людей. Очень важно создать атмосферу, в которой можно просто разгадаться, попробовать новые тонкости и насладиться своим ремеслом. Нет никаких требований, нет никакого давления, никаких ожиданий. Должны ли дизайнеры и разработчики сайта? Почему, да. Да, они должны.

## Почему вы решили построить Kap на Electron?

Существует ряд причин:

* Веб-технологии
* Большая часть команды - веб-разработчики
* Мы инвестируем в JavaScript
* Он открывает дверь для большего количества людей для внесения вклада
* Сам Electron является открытым исходным кодом
* Мощность и легкодоступность модулей `узлов_модулей`
* Кросс-платформенные возможности

Мы считаем, что будущее приложений находится в браузере, но мы еще не совсем там есть. Электрон является важным шагом в пути, ведущем к будущему. Это не только делает сами приложения более доступными, но и кодом, с которым они созданы. Интересная мысль - это представление о будущем, где ОС является браузером, а вкладки по существу Electron приложений.

Кроме того, будучи в основном веб-разработчиками, мы большие фанаты изоморфные природы JavaScript, , что вы можете запустить JS на клиенте, сервере, и теперь на рабочем столе. С веб-технологией (HTML, CSS и JS), многие вещи гораздо проще, чем родный: более быстрый прототип, менее код, flexbox > автомакет (macOS/iOS).

## Какие вызовы вы вы столкнулись при строительстве Кап?

Использование ресурсов Electron имеет возможность записать экран был самым большим вызовом. Они просто не были выполнены достаточно для того, чтобы соответствовать нашим требованиям и превратили проект в неудачу в наших глазах. Хотя ни по коей причине самого Electron, между родным разработчиком и сборкой настольных приложений с веб-технологиями все еще существует разрыв.

Мы потратили много времени, пытаясь обойти низкую производительность `getUserMedia` API, возникшую в Chromium. Одна из наших главных задач, когда мы поставили перед собой задачу создать все приложения с помощью веб-технологий. После попытки всего, что мы могли бы заставить его работать (минимальное требование составляет 30 FPS на экране Retina), нам пришлось найти другое решение.

## Я вижу некоторые Swift код в репозитории. Что это за это?

Принудительно искать альтернативы `getUserMedia`, мы начали экспериментировать с `ffmpeg`. Кроме того, будучи одним из лучших инструментов конвертации аудио и видео, он обладает функциональностью записи экрана практически в любой ОС, и мы смогли записать хрустящее видео в соответствии с нашим минимальным требованием в 30 FPS на экране сетчатки. Проблема? Производительность была:weary:", использование ЦП продолжается haywire. Поэтому мы вернулись к чертежу, обсудили наши варианты и поняли, что нам пришлось идти на компромисс. В результате [Aperture](https://github.com/wulkano/aperture), наша собственная библиотека записи экрана для macOS, написанная на Swift.

## В каких областях Electron следует улучшить?

Мы все знаем, что приложения Electron могут использовать ОЗУ, но опять-таки, это действительно Chromium. Это часть того, как это работает, и это зависит от того, что вы работаете, Например, Kap и Hyper обычно используют менее 100MB памяти.

Одной из самых больших областей улучшения, которые мы видим, является полезная нагрузка, особенно как Electron распределяет Chromium. Одна из идей заключается в том, чтобы иметь совместное ядро Electron и заставить установщики приложений проверить, есть ли оно уже в системе.

Создание кросс-платформенных приложений Electron может быть лучше. Прямо сейчас слишком много несоответствий, API специфичных для платформ, и недостающих возможностей между платформами, сделав ваш код, запущенным с операторами "если-иначе". Например, вибрация поддерживается только в macOS, автообновление работает по-разному в macOS и Windows, и даже не поддерживается в Linux. Прозрачность — это удар или пропуск в Linux, как правило, отсутствует.

Также нужно проще вызвать родные системные API. Electron поставляется с очень хорошим набором API, но иногда вам нужны функциональные возможности, которые он не предоставляет. Создание собственного аддона Node.js, но с ним болезненно работает. В идеале Electron отправится с хорошим [FFI](https://en.wikipedia.org/wiki/Foreign_function_interface) API, как [`быстрый звонок`](https://github.com/cmake-js/fastcall). Это позволило бы нам вместо этого написать часть Swift в JavaScript.

## Каковы ваши любимые вещи в Electron?

Наша любимая вещь - это то, что любой человек, знающий о создании веб может создать и внести свой вклад в многоплатформенный родной опыт. Не говоря уже о легкости и радости разработки на нем, отличная документация и процветающая экосистема.

С точки зрения передовой перспективы, строительство Kap не отличается от создания простого веб-сайта с использованием браузеров API. Electron делает очень большую работу по разработке приложения похожей (по сути идентичной) на веб-разработку. Так просто, что не было необходимости в таких фреймворках или похожих для нас, просто чистых и модульных JS и CSS.

Мы также огромные поклонники создания команды, их самоотверженность и поддержка, активное и дружественное сообщество, которое они поддерживают. Объявления для всех вас!

## Что будет дальше, в Kap?

Следующим шагом для нас является обзор приложения в подготовке к версии 2.0. Этап, который включает в себя перезапись React в дополнение к поддержке плагинов, позволяя разработчикам расширить функциональность Kap! Мы приглашаем всех подписаться на проект и внести свой вклад в наш [GitHub репозиторий](https://github.com/wulkano/kap). Мы слушаем и хотим услышать как можно больше вас, [Дайте нам знать, как мы можем сделать Kap лучшим из возможных инструментов, который может быть для вас](https://wulkano.typeform.com/to/BIvJKz)!

## Что такое Вулкано?

[Wulkano](https://wulkano.com) — студия дизайна и цифровой коллектив, команда удаленных технологов, которые любят совместную работу как над гигами, так и над собственными проектами. Мы распределенные, но жесткие трикотажные группы людей из разных мест и фонов, обмен знаниями, идеями, опытом, но самое главное, глупые GIF и мемы, в нашем виртуальном офисе (который происходит как Electron на Slack!).

## Любые советы Electron, которые могут быть полезны другим разработчикам?

Воспользуйтесь преимуществами и участвуйте в фантастическом [сообществе](https://discuss.atom.io/c/electron), посетите [Awesome Electron](https://github.com/sindresorhus/awesome-electron), посмотрите на [примеры](https://github.com/electron/electron-api-demos) и воспользуйтесь большим [документацией](https://electronjs.org/docs/)!

