---
title: دعم آبل السليكون
author: صوت MarshallOfSound
date: '2020-10-15'
---

مع إطلاق معدات أبل السليكون في وقت لاحق من هذا العام، ما هو المسار بالنسبة لك لجعل تطبيق إلكترون الخاص بك يعمل على الجهاز الجديد؟

---

بإطلاق إلكترون 11.0.0-بيتا. فريق إلكترون يقوم الآن بشحن بنايات من إلكترون التي تعمل على معدات آبل السليكون الجديدة التي تخطط آبل للشحن في وقت لاحق من هذا العام. يمكنك التقاط أحدث بيتا بواسطة `npm تثبيت electron@beta` أو تنزيلها مباشرة من [إصدار موقعنا](https://electronjs.org/releases/stable).

## كيف يعمل ذلك؟

ابتداء من إلكترون 11، سنقوم بشحن إصدارات منفصلة من إلكترون لـ Intel Macs و Apple Silicon Macs. قبل هذا التغيير، كنا نقوم بالفعل بشحن فنانين، `darwin-x64` و `mas-x64`، مع وجود هذا الأخير لاستخدام توافق متجر تطبيقات ماك. نحن الآن نقوم بشحن فنانين آخرين، `داروين درع 64` و `إس - درع 64`، وهما معادلتي آبل السيليكون للفنون السالفة الذكر.

## ماذا أحتاج أن أفعل؟

سوف تحتاج إلى شحن نسختين من التطبيق الخاص بك: واحد لـ x64 (Intel Mac) وواحد للذراع 64 (Apple Silicon). الخبر السار هو أن [`حزمة إلكترون-غلاف`](https://github.com/electron/electron-packager/)، [`إعادة بناء إلكترون-`](https://github.com/electron/electron-rebuild/) و [`تصنيع إلكترون-فورج`](https://github.com/electron-userland/electron-forge/) يدعم بالفعل استهداف الدروع ``4</code> المعمارية. طالما أنك تقوم بتشغيل أحدث إصدارات تلك الحزم، يجب أن يعمل تطبيقك بدون خلل بمجرد تحديث الهندسة المستهدفة إلى `arm64`.

وفي المستقبل، سوف نصدر حزمة تسمح لك "بدمج" `arm64` و `x64` تطبيقات في ثنائيات عالمية واحدة، ولكن تجدر الإشارة إلى أن هذه الثنائية ستكون _ضخمة_ وربما ليست مثالية للشحن إلى المستخدمين.

## القضايا المحتملة

### الوحدات النمطية الأصلية

بينما تستهدف هندسة معمارية جديدة، ستحتاج إلى تحديث العديد من التبعيات التي قد تسبب مشاكل في البناء. الإصدار الأدنى لبعض الإعتمادات مدرج أدناه للرجوع إليه.

| التبعية              | متطلبات الإصدار |
| -------------------- | --------------- |
| Xcode                | `>=12.0.0`   |
| `عقدة`               | `>=7.1.0`    |
| `إعادة بناء إلكترون` | `>=1.12.0`   |
| `electron-packager`  | `>=15.1.0`   |

نتيجة لمتطلبات إصدار الإعالة هذه، قد تضطر إلى إصلاح/تحديث وحدات أصلية معينة.  شيء واحد من الملحوظة هو أن ترقية Xcode سوف تقدم نسخة جديدة من الـ MacOS SDK، الذي قد يسبب فشلات بناء الوحدات المحلية الخاصة بك.


## كيف يمكنني اختبارها؟

حالياً، تطبيقات أبل سيكون تعمل فقط على آبل سيلكون، وهي ليست متاحة تجارياً وقت كتابة هذه المدونة المنشورة. إذا كان لديك [مجموعة الانتقال للمطورين](https://developer.apple.com/programs/universal/)، يمكنك اختبار التطبيق الخاص بك على ذلك. وبخلاف ذلك، سيتعين عليك الانتظار حتى يتم إصدار معدات آبل السيليكون للإنتاج لاختبار ما إذا كان تطبيقك يعمل.

## ماذا عن روزيتا 2؟

روزيتا 2 هي أحدث تكرار من آبل لتقنية [روزيتا](https://en.wikipedia.org/wiki/Rosetta_(software)) الخاصة بها، والذي يسمح لك بتشغيل تطبيقات x64 Intel على معدات الذراع 64 آبل السليكون الجديدة. على الرغم من أننا نعتقد أن تطبيقات x64 إلكترون سيتم تشغيلها تحت روزيتا 2، هناك بعض الأشياء المهمة التي يمكن ملاحظتها (والأسباب التي تجعل من الضروري شحن الدرع الوطني 64 مكرراً).

* سيتم تدهور أداء التطبيق الخاص بك بشكل كبير. يستخدم إلكترون / V8 تجميع [JIT](https://en.wikipedia.org/wiki/Just-in-time_compilation) لجافا سكريبت، ونظرا لكيفية عمل روزيتا، سوف تقوم بتشغيل JIT مرتين (مرة في V8 ومرة في Rosetta).
* أنت تفقد فائدة التكنولوجيا الجديدة في آبل سيلكون، مثل زيادة حجم صفحة الذاكرة.
* هل ذكرنا أن الأداء سيكون **بشكل كبير** متدهور؟
