# webFrame

> Настройка отображения текущей веб-страницы.

Процесс: [Графический](../glossary.md#renderer-process)

`webFrame` экспорта модуля Electron является примером `WebFrame` класса, представляющего верхнюю рамку текущего `BrowserWindow`. Подрамки могут быть определенными свойствами и методами (например. `webFrame.firstChild`).

Пример масштабирования текущей страницы до 200%.

```javascript
const { webFrame } = require('electron')

webFrame.setZoomFactor(2)
```

## Методы

Класс `WebFrame` имеет следующие методы экземпляра:

### `webFrame.setZoomFactor(factor)`

* `factor` Двойной - Увеличить фактор; по умолчанию составляет 1,0.

Изменяет коэффициент масштабирования на указанный фактор. Коэффициент увеличения на 100, так что 300% и 3,0.

Коэффициент должен быть больше 0,0.

### `webFrame.getZoomFactor()`

Возвращает `Number` - текущего маштаба.

### `webFrame.setZoomLevel(level)`

* `level` Number - уровень увеличения.

Изменяет уровень масштаба на указанный уровень. Оригинальный размер 0 и каждое приращение выше или ниже представляет масштабирование 20% больше или меньше, по умолчанию ограничение на 300% и 50% от исходного размера, соответственно.

> **ПРИМЕЧАНИЕ**: Политика масштабирования на уровне Chromium имеет одно и то же происхождение, что означает, что уровень масштабирования для определенного домена распространяется во всех экземплярах окон с одним и тем же доменом. Дифференциация URL-адресов окон позволит увеличить работу на окно.

### `webFrame.getZoomLevel()`

Возвращает `Number` - текущего уровня маштаба.

### `webFrame.setVisualZoomLevelLimits(minimumLevel, maximumLevel)`

* `minimumLevel` Number
* `maximumLevel` Number

Устанавливает максимальный и минимальный уровень пинч-маштабирования.

> **ПРИМЕЧАНИЕ**: Визуальный зум отключен по умолчанию в Electron. Чтобы включить его, позвоните:
> 
> ```js
webFrame.setVisual'oomLevelLimits (1, 3)
```

### `webFrame.setSpellCheckProvider (язык, провайдер)`

* `language` String
* `provider` объект
  * `spellCheck` функция
    * `words` Струна»
    * `callback` Function
      * `misspeltWords` Струна»

Задает поставщика для проверки орфографии в полях ввода и текстовых областях.

Если вы хотите использовать этот метод, вы должны отключить встроенный орфографии, когда построить окно.

```js
const mainWindow - новый BrowserWindow (является
  webPreferences: {
    spellcheck: false
  }
)
```

Целью `provider` быть объект, который имеет `spellCheck` метод, который массив отдельных слов для проверки орфографии. Функция `spellCheck` выполняется асинхронно и `callback` функцию массивом слов с ошибками после завершения.

Пример использования [node-spellchecker][spellchecker] как поставщик:

```javascript
const { webFrame } требуют ('электрон')
const spellChecker - требуют ('spellchecker')
webFrame.setSpellCheckProvider ('en-US',
  spellCheck (слова, обратный вызов) -
    setTimeout (() -> -
      const spellchecker - требуют ('spellchecker')
      const misspelled - words.filter (x> spellchecker.isMisspelled (x))
      обратный вызов (неправильно)
    , 0)

  )
```

### `webFrame.insertCSS (css)`

* `css` String - исходный код CSS.

Возвращает `String` - ключ для вставленного CSS, который позже может быть использован для удаления CSS через `webFrame.removeInsertedCSS(key)`.

Вводит CSS на текущую веб-страницу и возвращает уникальный ключ для вставленного таблицы.

### `webFrame.removeInsertedCSS (ключ)`

* `key` String

Удаляет вставленный CSS с текущей веб-страницы. Таблица стилей идентифицируется ключом, который возвращается из `webFrame.insertCSS(css)`.

### `webFrame.insertText(text)`

* `text` String

Вставляет `text` в элемент с фокусом.

### `webFrame.executeJavaScript(code[, userGesture, callback])`

* `code` String
* `userGesture` Boolean (опиционально) - по умолчанию `false`.
* `callback` (необязательно) - Вызывается после выполнения скрипта. Если , что кадр приостановлен (например, отображение модального оповещения), выполнение будет синхронным и обратный вызов будет вызван до возвращения метода. Для совместимости со старой версией этого метода параметр ошибки является вторым.
  * `result` Any
  * `error` Error

Возвращает `Promise<any>` - Обещание, которое разрешается с результатом выполненного кода или отвергается, если выполнение бросает или приводит к отклонению обещания.

Вычисляет `code` на странице.

В окне браузера некоторые HTML API как `requestFullScreen` может быть только вызван жестом пользователя. Указание `userGesture` как `true` снимает это ограничение.

### `webFrame.executeJavaScriptInIsolatedWorld(worldId, scripts[, userGesture, callback])`

* `worldId` Integer - Идентификатор мира для запуска JavaScript в, `0` является основным миром по умолчанию (где содержание работает), `999` является мир, используемый `contextIsolation` electron. Принимает значения в диапазоне 1..536870911.
* `scripts` [WebSource](structures/web-source.md)
* `userGesture` Boolean (опиционально) - по умолчанию `false`.
* `callback` (необязательно) - Вызывается после выполнения скрипта. Если , что кадр приостановлен (например, отображение модального оповещения), выполнение будет синхронным и обратный вызов будет вызван до возвращения метода.  Для совместимости со старой версией этого метода параметр ошибки является вторым.
  * `result` Any
  * `error` Error

Возвращает `Promise<any>` - Обещание, которое разрешается с результатом выполненного кода отклонено, если выполнение не может начаться.

Работает как `executeJavaScript` но оценивает `scripts` в изолированном контексте.

Обратите внимание, что при выполнении скрипта возвращается обещание не будет и `result` будет `undefined`. Это потому, что Хром не ошибки отправки изолированных миров в зарубежные миры.

### `webFrame.setIsolatedWorldInfo (worldId, информация)`

* `worldId` Integer - Идентификатор мира для запуска javascript в, `0` является мир по умолчанию, `999` мир, используемый Электроны `contextIsolation` функцию. Расширения Chrome резервируют диапазон СВ в `[1 << 20, 1 << 29)`. Вы можете предоставить любой integer здесь.
* `info` объект
  * `securityOrigin` String (по желанию) - Происхождение безопасности для изолированного мира.
  * `csp` String (необязательно) - Политика безопасности контента для изолированного мира.
  * `name` String (необязательно) - Имя для изолированного мира. Полезно в devtools.

Установите происхождение безопасности, политику безопасности содержимого и название изолированного мира. Примечание: Если `csp` указан, то `securityOrigin` также должна быть указана.

### `webFrame.getResourceUsage()`

Возвращает `Object`:

* `images` [MemoryUsageDetails](structures/memory-usage-details.md)
* `scripts` [MemoryUsageDetails](structures/memory-usage-details.md)
* `cssStyleSheets` [MemoryUsageDetails](structures/memory-usage-details.md)
* `xslStyleSheets` [MemoryUsageDetails](structures/memory-usage-details.md)
* `fonts` [MemoryUsageDetails](structures/memory-usage-details.md)
* `other` [MemoryUsageDetails](structures/memory-usage-details.md)

Возвращает объект, описывающий сведения об использовании Blink внутренней памяти кэшей.

```javascript
const { webFrame } = require('electron')
console.log(webFrame.getResourceUsage())
```

Это будет генерировать:

```javascript
{
  images: {
    count: 22,
    size: 2549,
    liveSize: 2542
  },
  cssStyleSheets: { /* то же самое с "images" */ },
  xslStyleSheets: { /* то же самое с "images" */ },
  fonts: { /* то же самое с "images" */ },
  other: { /* то же самое с "images" */ }
}
```

### `webFrame.clearCache()`

Пытается освободить память, которая больше не используется (например, изображения из предыдущей навигации).

Обратите внимание, что безрассудный вызов этого метода вероятно замедлит Electron, поскольку ему придется чистить кэши даже если они уже пустые, так что этот метод следует вызывать только в случае, когда вы уверены, что страница стала использовать меньше памяти (например, произошел переход с супер-тяжёлой страницы на лёгкую без ожидаемого возврата обратно на тяжёлую).

### `webFrame.getFrameForSelector (селектор)`

* `selector` String - селектор CSS для элемента кадра.

Возвращает `WebFrame` - Элемент кадра в документе `webFrame's` , выбранном `selector`, `null` будет возвращен, если `selector` не выберет кадр или , если кадр не находится в текущем процессе рендерера.

### `webFrame.findFrameByName (имя)`

* `name` String

Возвращает `WebFrame` - Ребенок `webFrame` с поставленным `name`, `null` будет возвращен, если нет такого кадра или если кадр не находится в текущем процесса рендерера.

### `webFrame.findFrameByRoutingId (маршрутизацияId)`

* `routingId` Integer - `Integer` представляющий уникальный идентификатор кадра в процессе рендеринга. СВУ маршрутизации могут быть извлечены из `WebFrame` экземпляров (`webFrame.routingId`), а также передаются по конкретным `WebContents` навигационным событиям (например. `did-frame-navigate`)

Возвращает `WebFrame` - то есть поставленную `routingId`, `null` если не нашли.

### `webFrame.isWordMisspelled (слово)`

* `word` - Слово, которое должно быть орфографии.

Возвращает `Boolean` - Правда, если слово неправильно в соответствии со встроенным в , ложные в противном случае. Если словарь не загружен, всегда возвращайте его ложным.

### `webFrame.getWordSuggestions (слово)`

* `word` Строка - Неправильное слово.

Возвращает `String[]` - Список предлагаемых слов для данного слова. Если слово написано правильно, результат будет пустым.

## Свойства

### `webFrame.top` _Ридонли_

В `WebFrame | null` , представляющем верхний кадр в иерархии кадров, к которой принадлежит `webFrame` , свойство будет `null` , если верхний кадр не находится в текущем процессе рендеринга.

### `webFrame.opener` _Ридонли_

В `WebFrame | null` , представляющих кадр, который открыл `webFrame`, свойство быть `null` , если нет нож или нож не в текущем процессе рендеринга.

### `webFrame.parent` _Ридонли_

Данный `WebFrame | null` представляющий родительский кадр `webFrame`, свойство будет `null` , `webFrame` является верхней или родитель не находится в текущем процессе рендеринга.

### `webFrame.firstChild` _Ридонли_

Проект `WebFrame | null` , представляющий первый ребенок кадр `webFrame`, свойство будет `null` если `webFrame` не имеет детей или если первый ребенок не находится в процессе рендеринга.

### `webFrame.nextSibling` _Ридонли_

В `WebFrame | null` , представляющем следующий кадр брата, свойство будет `null` , если `webFrame` является последним кадром в его родителе или если следующий брат не находится в текущем процессе рендеринга.

### `webFrame.routingId` _Ридонли_

`Integer` представляющий уникальный идентификатор кадра в текущем процессе рендеринга. Отдельные экземпляры WebFrame, которые ссылаются на один и тот же базовый кадр, будут же `routingId`.

[spellchecker]: https://github.com/atom/node-spellchecker
