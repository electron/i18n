# Notification (Оповещения)

> Создание уведомлений на рабочем столе ОС

Process: [Main](../glossary.md#main-process)

## Использование процесса отрисовки

Если вы хотите отобразить уведомления в процессе отрисовки, вы должны использовать [HTML5 Notification API](../tutorial/notifications.md)

## Class: Notification / Уведомление

> Создание уведомлений на рабочем столе ОС

Process: [Main](../glossary.md#main-process)

`Notification` является [EventEmitter](https://nodejs.org/api/events.html#events_class_eventemitter).

Так создается новый экземпляр `BrowserWindow` с собственными свойствами, установленными в `options`.

### Статические методы

Класс `Notification` имеет следующие статические методы:

#### `Notification.isSupported()`

Возвращает `Boolean` - Поддерживаются ли уведомления рабочего стола в текущей системе

### `new Notification([options])` *Экспериментально*

* `options` Object (опционально) 
  * `title` String - Заголовок для уведомления, который будет отображаться в верхней части окна уведомления, когда он будет показан.
  * `subtitle` String (опционально) *macOS* - Подзаголовок для уведомления, который будет отображаться под заголовком.
  * `body` String - Текст уведомления, который будет отображаться под заголовком или подзаголовком.
  * `silent` Boolean (опционально) - Использовать ли звук уведомления ОС при отображении уведомления.
  * `icon` (String | [NativeImage](native-image.md)) (опционально) - Значок для отображения в уведомлении.
  * `hasReply` Boolean (опционально) *macOS* - Нужно ли добавлять встроенный ответ к уведомлению.
  * `replyPlaceholder` String (опционально) *macOS* - Заполнитель для записи в поле ввода встроенного ответа.
  * `sound` String (опционально) *macOS* - Имя звукового файла, воспроизводимого при отображении уведомления.
  * `actions` [NotificationAction[]](structures/notification-action.md) (опционально) *macOS* - Действия для добавления к уведомлению. Пожалуйста, прочитайте доступные действия и ограничения в документации `NotificationAction`.
  * `closeButtonText` String (опционально) *macOS* - Пользовательское название для кнопки закрытия оповещения. Пустая строка приведет к использованию локализованного текста по умолчанию.

### События экземпляра

Объекты созданные с помощью `new Notification` имеют следующие события:

**Примечание:** Некоторые методы доступны только в определенных операционных системах и помечены как таковые.

#### Событие: 'show'

Возвращает:

* `event` Event

Возникает, когда уведомление отображается пользователю, обратите внимание, что оно может быть вызвано несколько раз, поскольку уведомление может быть показано несколько раз с помощью метода `show()`.

#### Событие: 'click'

Возвращает:

* `event` Event

Возникает при нажатии на уведомление пользователя.

#### Событие: 'close'

Возвращает:

* `event` Event

Возникает при закрытии уведомления вручную пользователем.

Не гарантируется, что это событие будет отправлено во всех случаях, когда уведомление закрыто.

#### Событие: 'reply' *macOS*

Возвращает:

* `event` Event
* `reply` String - Строка, введенная пользователем в поле ответа в строке ответа.

Возникает при нажатии пользователем кнопки "Ответить" в уведомлении с `hasReply: true`.

#### Событие: 'action' *macOS*

Возвращает:

* `event` Event
* `index` Number - Индекс действия, которое было активировано.

### Методы экземпляра

Объекты, созданные с помощью `New Notification`, имеют следующие методы экземпляра:

#### `notification.show()`

Сразу же показывает уведомление пользователю, обратите внимание, что это означает, в отличие от реализации HTML5 Notification, создание экземпляра `new Notification` не сразу показывает его пользователю, вам нужно вызвать этот метод, прежде чем ОС покажет его.

Если уведомление было показано ранее, этот метод отклонит ранее показанное уведомление и создаст новое с идентичными свойствами.

#### `notification.close()`

Отклоняет уведомление.

### Свойства экземпляра

#### `notification.title`

Свойство `String`, представляющее заголовок уведомления.

#### `notification.subtitle`

Свойство `String`, представляющее подзаголовок уведомления.

#### `notification.body`

Свойство `String`, представляющее тело уведомления.

#### `notification.replyPlaceholder`

Свойство `String`, представляющее заполнитель ответа уведомления.

#### `notification.sound`

Свойство `String`, представляющее звук уведомления.

#### `notification.closeButtonText`

Свойство `String`, представляющее текст кнопки закрытия уведомления.

#### `notification.silent`

Свойство `Boolean`, представляющее, является ли уведомление беззвучным.

#### `notification.hasReply`

Свойство `Boolean`, представляющее, есть ли в уведомлении действие для ответа.

#### `notification.actions`

A [`NotificationAction[]`](structures/notification-action.md) свойство, представляющее действия уведомления.

### Воспроизведение звуков

В macOS вы можете указать название звука, который вы хотели бы воспроизвести, когда отображается уведомление. В дополнение к пользовательским звуковым файлам можно использовать любой из звуков по умолчанию (в разделе Системные настройки > Звук). Убедитесь, что звуковой файл скопирован в папку пакета приложений (например, `YourApp.app/Contents/Resources`), или в одно из следующих мест:

* `~/Library/Sounds (~/Библиотека/Звуки)`
* `/Library/Sounds (/Библиотека/Звуки)`
* `/Network/Library/Sounds (/Сеть/Библиотека/Звуки)`
* `/System/Library/Sounds (/Система/Библиотека/Звуки)`

Смотрите документацию [`NSSound`](https://developer.apple.com/documentation/appkit/nssound) для получения дополнительной информации.