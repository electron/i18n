# Notification (Оповещения)

> Создание уведомлений на рабочем столе ОС

Процесс: [Основной](../glossary.md#main-process)

## Использование в Рендерер-процессе

Если вы хотите отобразить уведомления в Рендерер-процессе, вы должны использовать [HTML5 Notification API](../tutorial/notifications.md)

## Class: Notification / Уведомление

> Создание уведомлений на рабочем столе ОС

Процесс: [Основной](../glossary.md#main-process)

`Notification` является [EventEmitter][event-emitter].

Так создается новый экземпляр `BrowserWindow` с собственными свойствами, установленными в `options`.

### Статические методы

Класс `Notification` имеет следующие статические методы:

#### `Notification.isSupported()`

Возвращает `Boolean` - Поддерживаются ли уведомления рабочего стола в текущей системе

### `новое уведомление ([options])`

* `options` Object (опционально)
  * `title` String (по желанию) - название для уведомления, которое будет показано в верхней части окна уведомления при его продемонстрироваи.
  * `subtitle` String (опционально) _macOS_ - Подзаголовок для уведомления, который будет отображаться под заголовком.
  * `body` String (по желанию) - текст уведомления, который будет отображаться под заголовком или подзаголовком.
  * `silent` Boolean (опционально) - Использовать ли звук уведомления ОС при отображении уведомления.
  * `icon` (String | [NativeImage](native-image.md)) (опционально) - Значок для отображения в уведомлении.
  * `hasReply` Boolean (опционально) _macOS_ - Нужно ли добавлять встроенный ответ к уведомлению.
  * `timeoutType` Строка (по _)_ _Linux_ Windows - Продолжительность тайм-аута уведомления. Может быть "по умолчанию" или "никогда".
  * `replyPlaceholder` String (опционально) _macOS_ - Заполнитель для записи в поле ввода встроенного ответа.
  * `sound` String (опционально) _macOS_ - Имя звукового файла, воспроизводимого при отображении уведомления.
  * `urgency` String (по _)_ Linux - уровень срочности уведомления. Может быть «нормальным», «критическим» или «низким».
  * `actions` [NotificationAction[]](structures/notification-action.md) (опционально) _macOS_ - Действия для добавления к уведомлению. Пожалуйста, прочитайте доступные действия и ограничения в документации `NotificationAction`.
  * `closeButtonText` String (не _)_ macOS - пользовательское название для кнопки близкого оповещения. Пустая строка приведет к использованию локализованного текста по умолчанию.
  * `toastXml` Строка (необязательно) _Windows_ - пользовательское описание уведомления на Windows, затмив все свойства выше. Обеспечивает полную настройку дизайна и поведения уведомления.

### События экземпляра

Объекты созданные с помощью `new Notification` имеют следующие события:

**Примечание:** Некоторые методы доступны только в определенных операционных системах и помечены как таковые.

#### Событие: 'show'

Возвращает:

* `event` Event

Возникает, когда уведомление отображается пользователю, обратите внимание, что оно может быть вызвано несколько раз, поскольку уведомление может быть показано несколько раз с помощью метода `show()`.

#### Событие: 'click'

Возвращает:

* `event` Event

Возникает при нажатии на уведомление пользователя.

#### Событие: 'close'

Возвращает:

* `event` Event

Возникает при закрытии уведомления вручную пользователем.

Не гарантируется, что это событие будет отправлено во всех случаях, когда уведомление закрыто.

#### Событие: 'reply' _macOS_

Возвращает:

* `event` Event
* `reply` String - Строка, введенная пользователем в поле ответа в строке ответа.

Возникает при нажатии пользователем кнопки "Ответить" в уведомлении с `hasReply: true`.

#### Событие: 'action' _macOS_

Возвращает:

* `event` Event
* `index` Number - Индекс действия, которое было активировано.

#### Событие: «неудачный» _Windows_

Возвращает:

* `event` Event
* `error` String - Ошибка, с которой сталкиваются во время выполнения `show()` метода.

Испускаемый при создании и показе родного уведомления.

### Методы экземпляра

Объекты, созданные с помощью `New Notification`, имеют следующие методы экземпляра:

#### `notification.show()`

Сразу же показывает уведомление пользователю, обратите внимание, что это означает, в отличие от реализации HTML5 Notification, создание экземпляра `new Notification` не сразу показывает его пользователю, вам нужно вызвать этот метод, прежде чем ОС покажет его.

Если уведомление было показано ранее, этот метод отклонит ранее показанное уведомление и создаст новое с идентичными свойствами.

#### `notification.close()`

Отклоняет уведомление.

### Свойства экземпляра

#### `notification.title`

Свойство `String`, представляющее заголовок уведомления.

#### `notification.subtitle`

Свойство `String`, представляющее подзаголовок уведомления.

#### `notification.body`

Свойство `String`, представляющее тело уведомления.

#### `notification.replyPlaceholder`

Свойство `String`, представляющее заполнитель ответа уведомления.

#### `notification.sound`

Свойство `String`, представляющее звук уведомления.

#### `notification.closeButtonText`

Свойство `String`, представляющее текст кнопки закрытия уведомления.

#### `notification.silent`

Свойство `Boolean`, представляющее, является ли уведомление беззвучным.

#### `notification.hasReply`

Свойство `Boolean`, представляющее, есть ли в уведомлении действие для ответа.

#### `notification.urgency` _Linux_

`String` , представляющее уровень срочности уведомления. Может быть «нормальным», «критическим» или «низким».

Стандартное значение - 'low'. Что бы узнать подробнее, смотрите [NotifyUrgency](https://developer.gnome.org/notification-spec/#urgency-levels).

#### `notification.timeoutType` _Linux_ _Windows_

Свойство `String` , представляющее тип продолжительности тайм-аута для уведомления. Может быть "по умолчанию" или "никогда".

Если `timeoutType` установлен на "никогда", уведомление никогда не истекает. Он остается открытым до тех пор, пока не будет закрыт API вызова или пользователем.

#### `notification.actions`

A [`NotificationAction[]`](structures/notification-action.md) свойство, представляющее действия уведомления.

#### `notification.toastXml` _Windows_

Свойство `String` , представляющее пользовательский Toast XML уведомления.

### Воспроизведение звуков

В macOS вы можете указать название звука, который вы хотели бы воспроизвести, когда отображается уведомление. Любой из звуков по умолчанию (в соответствии с системой > Звук) могут быть использованы, в дополнение к пользовательским звуковым файлам. Убедитесь, что звуковой файл скопирован в папку пакета приложений (например, `YourApp.app/Contents/Resources`), или в одно из следующих мест:

* `~/Library/Sounds (~/Библиотека/Звуки)`
* `/Library/Sounds (/Библиотека/Звуки)`
* `/Network/Library/Sounds (/Сеть/Библиотека/Звуки)`
* `/System/Library/Sounds (/Система/Библиотека/Звуки)`

Смотрите документацию [`NSSound`](https://developer.apple.com/documentation/appkit/nssound) для получения дополнительной информации.

[event-emitter]: https://nodejs.org/api/events.html#events_class_eventemitter
