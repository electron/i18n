## –ö–ª–∞—Å—Å: TouchBar

> –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–∫–µ—Ç–æ–≤ TouchBar –¥–ª—è —Ä–æ–¥–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π macOS

–ü—Ä–æ—Ü–µ—Å—Å: [–û—Å–Ω–æ–≤–Ω–æ–π](../glossary.md#main-process)

### `–Ω–æ–≤—ã–π TouchBar (–≤–∞—Ä–∏–∞–Ω—Ç—ã)`

* `options` Object
  * `items` ([TouchBarButton](touch-bar-button.md) | [TouchBarColorPicker](touch-bar-color-picker.md) | [TouchBarGroup](touch-bar-group.md) | [TouchBarLabel](touch-bar-label.md) | [TouchBarPopover](touch-bar-popover.md) | [TouchBarScrubber](touch-bar-scrubber.md) | [TouchBarSegmentedControl](touch-bar-segmented-control.md) | [TouchBarSlider](touch-bar-slider.md) | [TouchBarSpacer](touch-bar-spacer.md)) (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
  * `escapeItem` ([TouchBarButton](touch-bar-button.md) | [TouchBarColorPicker](touch-bar-color-picker.md) | [TouchBarGroup](touch-bar-group.md) | [TouchBarLabel](touch-bar-label.md) | [TouchBarPopover](touch-bar-popover.md) | [TouchBarScrubber](touch-bar-scrubber.md) | [TouchBarSegmentedControl](touch-bar-segmented-control.md) | [TouchBarSlider](touch-bar-slider.md) | [TouchBarSpacer](touch-bar-spacer.md) | null) (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é —Å–µ–Ω—Å–æ—Ä–Ω—É—é –ø–ª–∞–Ω–∫—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `BrowserWindow.setTouchBar` , —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å `TouchBar` –≤ –æ–∫–Ω–æ.

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** TouchBar API –≤ –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è —è–≤–ª—è–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω –∏–ª–∏ —É–¥–∞–ª–µ–Ω –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö Electron.

**–°–æ–≤–µ—Ç:** –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç MacBook —Å touch Bar, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [Touch Bar Simulator](https://github.com/sindresorhus/touch-bar-simulator) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Touch Bar –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞

#### `TouchBarButton`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarButton`](./touch-bar-button.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarButton` .

#### `TouchBarColorPicker`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarColorPicker`](./touch-bar-color-picker.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarColorPicker` .

#### `TouchBarGroup`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarGroup`](./touch-bar-group.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarGroup` .

#### `TouchBarLabel`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarLabel`](./touch-bar-label.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarLabel` .

#### `TouchBar–ü–æ–ø–æ–≤–µ—Ä`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarPopover`](./touch-bar-popover.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarPopover` .

#### `TouchBarScrubber`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarScrubber`](./touch-bar-scrubber.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarScrubber` .

#### `TouchBarSegmentedControl`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarSegmentedControl`](./touch-bar-segmented-control.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarSegmentedControl` .

#### `TouchBarSlider`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarSlider`](./touch-bar-slider.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarSlider` .

#### `TouchBarSpacer`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarSpacer`](./touch-bar-spacer.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarSpacer` .

#### `TouchBarOtherItems–ü—Ä–æ–∫—Å–∏`

–°—Å—ã–ª–∫–∞ [`typeof TouchBarOtherItemsProxy`](./touch-bar-other-items-proxy.md) –Ω–∞ –∫–ª–∞—Å—Å `TouchBarOtherItemsProxy` .

### –°–≤–æ–π—Å—Ç–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞

–°–ª–µ–¥—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞—Ö `TouchBar`:

#### `touchBar.escapeItem`

–ù–∞–±–æ—Ä `TouchBarItem` –∫–æ—Ç–æ—Ä—ã–π –∑–∞–º–µ–Ω–∏—Ç –∫–Ω–æ–ø–∫—É "esc" –Ω–∞ —Å–µ–Ω—Å–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –Ω–∞–±–æ—Ä–µ. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è `null` –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É "esc" –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –ø–æ–±–µ–≥–∞ –≤ —Å–µ–Ω—Å–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏.

## –ü—Ä–∏–º–µ—Ä—ã

–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–π –∏–≥—Ä–æ–≤–æ–π –∞–≤—Ç–æ–º–∞—Ç —Å–µ–Ω—Å–æ—Ä–Ω—ã–π –±–∞—Ä –∏–≥—Ä—ã —Å –∫–Ω–æ–ø–∫–æ–π –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —ç—Ç–∏–∫–µ—Ç–∫–∏.

```javascript
const { app, BrowserWindow, TouchBar } - —Ç—Ä–µ–±—É—é—Ç ('—ç–ª–µ–∫—Ç—Ä–æ–Ω')

const { TouchBarLabel, TouchBarButton, TouchBarSpacer } - TouchBar

–ø—É—Å—Ç—å —Å–ø–∏–Ω–Ω–∏–Ω–≥ - –ª–æ–∂–Ω—ã–µ

// –ö–∞—Ç—É—à–∫–∞ —ç—Ç–∏–∫–µ—Ç–∫–∏
const reel1 - –Ω–æ–≤—ã–π TouchBarLabel ()
const reel2 - –Ω–æ–≤—ã–π TouchBarLabel ()
const reel3 TouchBarLabel ()

// –°–ø–∏–Ω–æ–≤–∞—è –º–µ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
–∫–æ–Ω—Å—Ç-—Ä–µ–∑—É–ª—å—Ç–∞—Ç - –Ω–æ–≤—ã–π TouchBarLabel ()

// –ö–Ω–æ–ø–∫–∞ —Å–ø–∏–Ω–∞
–∫–æ–Ω—Å—Ç —Å–ø–∏–Ω–∞ - –Ω–æ–≤—ã–π TouchBarButton (—è–ø.
  –º–µ—Ç–∫–∞: 'üé∞ Spin',
  backgroundColor: '#7851A9',
  –∫–ª–∏–∫: ()> -
    // –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–∫–∏, –µ—Å–ª–∏ —É–∂–µ —Å–ø–∏–Ω–Ω–∏–Ω–≥
    –µ—Å–ª–∏ (—Å–ø–∏–Ω–Ω–∏–Ω–≥) {
      return
    }

    —Å–ø–∏–Ω–Ω–∏–Ω–≥ - –∏—Å—Ç–∏–Ω–Ω—ã–π
    result.label - ''

    –ø—É—Å—Ç—å —Ç–∞–π–º-–∞—É—Ç - 10
    const spinLength - 4 –∏ 100 0 // 4 —Å–µ–∫—É–Ω–¥—ã
    const startTime - Date.now ()

    const spinReels () -> -
      updateReels ()

      –µ—Å–ª–∏ ((Date.now)) - startTime) >- spinLength) -
        finishSpin ()
      -
        // –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ –Ω–µ–º–Ω–æ–≥–æ –Ω–∞ –∫–∞–∂–¥–æ–º —Å–ø–∏–Ω—É
        —Ç–∞–π–º-–∞—É—Ç - 1,1
        setTimeout (spinReels, —Ç–∞–π–º-–∞—É—Ç)
      -
    -

    spinReels ()

)

const getRandomValue () -> ,
  const values - "üçí", "üíé", "7Ô∏è", "üçä", "üîî". '‚≠ê', 'üçá', 'üçÄ''
  –∑–Ω–∞—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ (Math.random() - –∑–Ω–∞—á–µ–Ω–∏—è.–¥–ª–∏–Ω–∞)"
-

const updateReels () ->
  reel1.label - getRandomValue()
  reel2.label - getRandomValue ()
  reel3.label.–¥–æ–º–í–∞–ª—é ()
-

–∫–æ–Ω—Å—Ç –æ—Ç–¥–µ–ª–∫–∞Spin ()>
  –∫–æ–Ω—Å—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π–í—å—é - –Ω–æ–≤—ã–π –Ω–∞–±–æ—Ä ("reel1.label, reel2.label, reel3.label"). —Ä–∞–∑–º–µ—Ä
  –µ—Å–ª–∏ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µValues No 1) -
    // –í—Å–µ 3 –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ
    result.label - "üí∞ Jackpot!".
    result.textColor - '#FDFF00'
  - –µ—â–µ –µ—Å–ª–∏ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µValues No 2) -
    // 2 –∑–Ω–∞—á–µ–Ω–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã
    result.label –∏ "üòç Winner!"
    result.textColor - '#FDFF00'
  - else -
    // –ù–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –æ–¥–∏–Ω–∞–∫–æ–≤—ã
    result.label - 'üôÅ Spin Again'
    result.textColor - null
  -
  —Å–ø–∏–Ω–Ω–∏–Ω–≥ -
    –ª–æ–∂–Ω—ã–π
-

const touchBar - –Ω–æ–≤—ã–π TouchBar ( )
  —ç–ª–µ–º–µ–Ω—Ç—ã:
    TouchBarSpacer ({ size: 'large' }),
    reel1,
    TouchBarSpacer ({ size: 'small' }),
    reel2,
    TouchBarSpacer ({ size: 'small' }),
    reel3,
    –Ω–æ–≤—ã–π TouchBarSpacer ({ size: 'large' }),
    —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  -
)

–ø—É—Å—Ç—å –æ–∫–Ω–æ

app.whenReady ()...,
    >
  : –ª–æ–∂–Ω–æ–µ,
    titleBarStyle: 'hiddenInset', —à–∏—Ä–∏–Ω–∞
    : 200, –≤—ã—Å–æ—Ç–∞
    : 200,
    backgroundColor: '#000'
  )
  window.loadURL ('about:blank')
  window.setTouchBar (touchBar)
)
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä–∞

–ß—Ç–æ–±—ã –≤—ã—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—É—é –≤—ã—à–µ –ø—Ä–∏–º–µ—Ä—É, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ (–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –æ—Ç–∫—Ä—ã—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä):

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤ `touchbar.js`
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Electron —á–µ—Ä–µ–∑ `npm install electron`
3. –í—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –≤–Ω—É—Ç—Ä–∏ Electron: `./node_modules/.bin/electron touchbar.js`

–ó–∞—Ç–µ–º –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –Ω–æ–≤–æ–µ –æ–∫–Ω–æ Electron –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∑–∞–ø—É—â–µ–Ω–Ω–æ–µ –≤ —Å–µ–Ω—Å–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏ (–∏–ª–∏ —ç–º—É–ª—è—Ç–æ—Ä —Å–µ–Ω—Å–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏).
