# Пулл реквесты

* [Настройка локальной среды](#setting-up-your-local-environment)
  * [Шаг 1: Вилка](#step-1-fork)
  * [Шаг 2: Сборка](#step-2-build)
  * [Шаг 3: Ветвь](#step-3-branch)
* [Внесение изменений](#making-changes)
  * [Шаг 4: Код](#step-4-code)
  * [Шаг 5: Обязательство](#step-5-commit)
    * [Рекомендации по совершению сообщений](#commit-message-guidelines)
  * [Шаг 6: Перебаза](#step-6-rebase)
  * [Шаг 7: Тест](#step-7-test)
  * [Шаг 8: Нажмите](#step-8-push)
  * [Шаг 9: Открытие pull Запрос](#step-9-opening-the-pull-request)
  * [Шаг 10: Обсудите и обновим](#step-10-discuss-and-update)
    * [Утверждение и изменение рабочего процесса](#approval-and-request-changes-workflow)
  * [Шаг 11: Посадка](#step-11-landing)
  * [Непрерывное интеграционное тестирование](#continuous-integration-testing)

## Настройка локальной среды

### Шаг 1: Вилка

Вилка проекта [GitHub](https://github.com/electron/electron) клонировать вилку локально.

```sh
$ git клон git@github.com:username/electron.git
$ CD электрон
$ Git удаленных добавить вверх по течению https://github.com/electron/electron.git
$ git принести вверх по течению
```

### Шаг 2: Сборка

Шаги сборки и зависимости немного отличаются в зависимости от операционной системы. Смотрите эти подробные руководства по созданию Electron локально:

* [Опираться на macOS](build-instructions-macos.md)
* [Опираясь на Linux](build-instructions-linux.md)
* [Опираться на Windows](build-instructions-windows.md)

После того как вы создали проект локально, вы готовы начать вносить изменения!

### Шаг 3: Ветвь

Чтобы организовать среду разработки, создайте локальные филиалы, чтобы вашу работу. Они должны быть разветвлены непосредственно от `master` филиала.

```sh
$ git выезд -b мой-филиал-т вверх по течению / мастер
```

## Внесение изменений

### Шаг 4: Код

Большинство запросов на тянуть, открытых в отношении репозитория `electron/electron` , включают изменения в коде C/C в папке `shell/` , код JavaScript в папке `lib/` , документацию в `docs/api/` или тесты в папке `spec/` .

Пожалуйста, не забудьте `npm run lint` время от времени на любые изменения кода чтобы убедиться, что они следуют стилю кода проекта.

Подробнее [изменении кода в](coding-style.md) частях проекта подробнее о наилучшей практике.

### Шаг 5: Обязательство

Рекомендуется логически сохранять сгруппированные изменения в пределах отдельных коммитов. Многим участникам легче просмотреть изменения, разделенные на нескольких коммитов. Количество коммитов в запросе на не существует.

```sh
$ git добавить мои / измененные / файлы
$ git коммит
```

Обратите внимание, что несколько коммитов часто раздавливаются при посадке.

#### Рекомендации по совершению сообщений

Хорошее сообщение коммита должно описать, что изменилось и почему. Проект Electron использует [сообщения коммитов](https://conventionalcommits.org/) для процесса выпуска.

Прежде чем запрос на вытягивать можно объединить, **вы** иметь заголовок запроса вытягивать с семантической приставкой.

Примеры сообщений коммитов с семантических префиксами:

* `исправить: не переназвонить prevent_default если дефолт не был предотвращен`
* `подвиг: добавить app.isPackaged () метод`
* `документы: app.isDefaultProtocolClient теперь доступен на Linux`

Общие префиксы:

* исправление: Исправление ошибки
* подвиг: новая функция
* документы: Изменения в документации
* тест: Добавление недостающих тестов или исправление существующих тестов
* сборка: Изменения, влияющие на систему сборки
* ci: Изменения в наших файлах конфигурации CI и скриптах
* perf: Изменение кода, которое повышает производительность
* рефактор: изменение кода, которое не исправляет ошибку и не добавляет функцию
* стиль: Изменения, которые не влияют на значение кода (линтинг)
* поставщик: Bumping зависимость, как libchromiumcontent или узел

Другие вещи, которые нужно иметь в виду при написании сообщения коммита:

1. Первая строка должна:
   * содержат краткое описание изменения (желательно 50 символов или менее, и не более 72 символов)
   * быть полностью в нижнем регистре, за исключением надлежащих существительные, аббревиатуры и , которые относятся к коду, как функция / переменные имена
2. Держите вторую линию пустой.
3. Оберните все остальные строки на 72 столбцах.

#### Критические изменения

Коммит, в `BREAKING CHANGE:` текста в начале факультативного раздела body or footer, вводит нарушение изменения API (коррелирует с основными в семантической версии). Нарушение изменения может быть частью коммитов любого типа. например, в дополнение `fix:` `feat:` & `chore:` типах, в дополнение к любому другому типу.

Подробности [conventionalcommits.org](https://conventionalcommits.org) подробнее.

### Шаг 6: Перебаза

После того как вы совершили свои изменения, это хорошая идея, чтобы использовать `git rebase` ( `git merge`) для синхронизации вашей работы с основным репозиторием.

```sh
$ git принести вверх по течению
$ git rebase вверх по течению / мастер
```

Это гарантирует, что ваша рабочая отрасль имеет последние изменения от `electron/electron` мастера.

### Шаг 7: Тест

Исправления ошибок и функции всегда должны поступают с тестами. Было [руководство по](testing.md) тестированию , чтобы облегчить этот процесс. Глядя на другие тесты, чтобы увидеть, как они должны быть структурированы также может помочь.

Перед отправкой изменений в запросе pull всегда запустите полный набор тестирования. Для 4 испытаний:

```sh
$ npm запустить тест
```

Убедитесь, что линцер не сообщает о каких-либо проблемах и что все тесты проходят. Пожалуйста, не при отправке патчей, которые не либо проверить.

Если вы обновляете тесты и хотите запустить один спецификации, чтобы проверить его:

```sh
$ npm запустить тест-матч-меню
```

Выше будет работать только спецификации модулей, соответствующих `menu`, который полезен для тех, кто работает над тестами, которые в противном случае были бы в самом цикла тестирования.

### Шаг 8: Нажмите

Как только ваши коммиты будут готовы к работе - с прохождением тестов и линтингом - начнет процесс открытия запроса на тянуть, нажав рабочую ветвь на вилку на GitHub.

```sh
$ git толчок происхождения моей ветви
```

### Шаг 9: Открытие pull Запрос

Из GitHub, открытие нового запроса тянуть представит вам шаблон с которые должны быть заполнены:

```markdown
<!--
Спасибо за вашу просьбу тянуть. Пожалуйста, предоставьте описание выше и
с требованиями ниже.

Исправления ошибок и новые функции должны включать тесты и, возможно, тесты.

Руководство для участников: https://github.com/electron/electron/blob/master/CONTRIBUTING.md
-->
```

### Шаг 10: Обсудить и обновить

Вы, вероятно, получите обратную связь или запросы на внесение изменений в ваш запрос на тянуть. Это большая часть процесса представления, так что не отчаивайтесь! Некоторые вкладчики могут подписать на запрос вытягивать сразу. Другие могут иметь комментарии или отзывы. Это необходимая часть процесса, чтобы , являются ли изменения правильными и необходимыми.

Чтобы внести изменения в существующий запрос на тянуть, внести изменения в локаленую ветку , добавить новый коммит с этими изменениями и подтолкнуть их к вилке. GitHub автоматически обновит запрос на тянуть.

```sh
$ git добавить мои / изменены / файлы
$ git совершить
$ Git нажмите происхождения моей ветви
```

Существует ряд более продвинутых механизмов управления коммитами с использованием `git rebase` которые могут быть использованы, но выходят за рамки настоящего руководства.

Не стесняйтесь размещать комментарии в тянуть запрос на пинг рецензентов, если вы ответа на что-то. Если вы столкнулись со словами или аббревиатурами, кажется незнакомыми, обратитесь к этому [глоссарий](https://sites.google.com/a/chromium.org/dev/glossary).

#### Утверждение и изменение рабочего процесса

Все запросы на тянуть требуют одобрения [владельца кода](https://github.com/electron/electron/blob/master/.github/CODEOWNERS) области, которую вы изменили для того, чтобы приземлиться. Всякий раз, когда сопровождаемый рассматривает запрос запрос, он может запросить изменения. Они могут быть небольшими, например, фиксация опечатки, или могут включать существенные изменения. Такие просьбы предназначены для того, чтобы быть полезными, но порой могут встретить как резкие или бесполезные, особенно если они не включают конкретных предложений по *,* изменить их.

Старайтесь не уныть. Если вы считаете, что отзыв несправедлив, скажите об этом или с помощью другого участника проекта. Зачастую такие замечания являются результатом рецензента, который не занял достаточно времени для рассмотрения и не является злонамереным. Такие трудности часто могут быть решены с немного терпения. Тем не менее, , что рецензенты должны предоставить полезную обратную связь.

### Шаг 11: Посадка

Для того, чтобы приземлиться, запрос на тянуть должен быть рассмотрен и одобрен по крайней мере один Electron Code Владелец и пройти CI. После этого, если нет никаких со стороны других участников, запрос на тянуть может быть объединен.

Поздравляем и благодарим за ваш вклад!

### Непрерывное интеграционное тестирование

Каждый запрос на тянуть тестируется на системе непрерывной интеграции (CI), подтвердить, что он работает на поддерживаемых electron платформах.

В идеале запрос на тянуть будет проходить ("быть зеленым") на всех платформах CI. Это означает, что все тесты проходят и нет ошибок в линтинге. Тем не , что нередки случаи, когда сама инфраструктура CI не удается выйти из строя на конкретных платформах или для так называемых "слоеных" тестов на провал ("быть красным"). Каждый сбой CI должен быть вручную проверен для определения причины.

CI запускается автоматически при открытии запроса на тянуть, но только сопровождаемые ядра могут перезапустить запуск CI. Если вы считаете, что CI ложный негатив, попросите сопровождая перезапустить тесты.
