# Использование лязг-опрятный на коде СЗ

[`clang-tidy`](https://clang.llvm.org/extra/clang-tidy/) является инструментом для автоматического проверки кода C/C/Objective-C на наличие нарушений стиля, ошибок и передового опыта.

Электронная интеграция `clang-tidy` предоставляется как скрипт linter, который может работать с `npm run lint:clang-tidy`. В `clang-tidy` как вы проверяете ваши файлы, вам нужно построить Electron, чтобы он знал, какие флаги компилятора были использованы. Существует один необходимый вариант для сценария `--output-dir`, который сценарий, который строит каталог, чтобы вытащить компиляцию информации, из. Типичным использованием будет: `npm run lint:clang-tiy --out-dir ../out/Testing`

При не предусмотренных именах файлов все файлы C/C/Objective-C будут проверены. Вы можете предоставить список файлов, которые будут проверены, передавая имена файлов после вариантов: `npm run lint:clang-tiy --out-dir ../out/Testing shell/browser/api/electron_api_app.cc`

Хотя `clang-tidy` имеет [длинный список](https://clang.llvm.org/extra/clang-tidy/checks/list.html) возможных проверок, в Electron лишь немногие из них включены по умолчанию. В момент Electron не имеет `.clang-tidy` конфигурации, так что `clang-tidy` найти один из хрома в `src/.clang-tidy` году и использовать чеки, которые Хром позволил. Вы можете изменить, какие проверки проводятся с помощью `--checks=` опции. Это передается прямо к `clang-tidy`, так что документации для получения подробной информации. Wildcards могут быть использованы, и проверки быть отключены путем `-`. По умолчанию любые перечисленные проверки добавляются к в `.clang-tidy`, так что если вы хотите ограничить проверки конкретными , вы должны сначала исключить все проверки, а затем добавить обратно то, что вы хотите, как `--checks=-*,performance*`.

Запуск `clang-tidy` довольно медленно - внутренне он компилирует каждый файл и затем запускает проверки, так что он всегда будет какой-то фактор медленнее, чем компиляция. В то время как вы можете использовать параллельные запуски, чтобы ускорить его с помощью опции `--jobs|-j` , `clang-tidy` также использует много памяти во время проверок, так что он легко может работать с ошибками вне памяти. Таким образом, число заданий по умолчанию является одним.
