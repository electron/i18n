# Usando clang-tidy no Código C++

[`clang-tidy`](https://clang.llvm.org/extra/clang-tidy/) é uma ferramenta para verificar automaticamente código C/C++/Objective-C para violações de estilo, erros de de programação e práticas recomendadas.

A integração `clang-tidy` da Electron é fornecida como um script de linter que pode ser executado com `npm run lint:clang-tidy`. Enquanto `clang-tidy` verifica seus arquivos de em disco, você precisa ter construído o Electron para que ele saiba quais bandeiras do compilador foram usadas. Há uma opção necessária para o script `--output-dir`, que informa o script de qual diretório de construção para retirar as informações de compilação . Um uso típico seria: `npm run lint:clang-tiy --out-dir ../out/Testing`

Sem nomes de arquivos fornecidos, todos os arquivos C/C++/Objective-C serão verificados. Você pode fornecer uma lista de arquivos a serem verificados passando os nomes dos arquivos após as opções: `npm run lint:clang-tiy --out-dir ../out/Testing shell/browser/api/electron_api_app.cc`

Embora `clang-tidy` tenha uma [longa lista](https://clang.llvm.org/extra/clang-tidy/checks/list.html) de possíveis verificações, na Electron apenas alguns são ativados por padrão. No momento Electron não tem uma `.clang-tidy` config, então `clang-tidy` encontrará o de Chromium em `src/.clang-tidy` e usará as verificações que o Cromo habilitaram. Você pode alterar quais verificações são executadas usando a opção `--checks=` . Isso é passado diretamente para `clang-tidy`, então veja sua documentação para detalhes completos. Curingas podem ser usados e as verificações podem ser desativadas prefixando um `-`. Por padrão, quaisquer verificações listadas são adicionadas a as de `.clang-tidy`, portanto, se você quiser limitar as verificações a específicas, você deve primeiro excluir todas as verificações e, em seguida, adicionar de volta o que você quer, como `--checks=-*,performance*`.

A execução `clang-tidy` é bastante lenta - internamente ele compila cada arquivo e então executa as verificações, por isso sempre será algum fator mais lento do que a compilação. Embora você possa usar corridas paralelas para acelerá-lo usando a opção `--jobs|-j` , `clang-tidy` também usa muita memória durante suas verificações, para que possa facilmente correr para erros fora de memória. Como tal, o número padrão de empregos é um.
